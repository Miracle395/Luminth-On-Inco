<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <link rel="icon" href="stablex.png" type="image/png" sizes="16x16" />

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Manrope:wght@600;700;800&display=swap" rel="stylesheet">

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous"
  />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="luminth.css" />

  <title>A smarter way to grow your stable assets. </title>

  <style>
    .loading-spinner {
      border: 2px solid #f3f3f3;
      border-top: 2px solid #00ff90;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 0.8s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-left: 8px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
  
</head>

<body>
<input
  type="file"
  id="avatarInput"
  accept="image/*"
  style="display:none"
/>

  <!-- NAVBAR -->
  <nav class="navbar navbar-dark">
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="luminth2.png" style="width:40px" alt="Luminth Logo" />
    </a>

    <button id="accountBtn" class="account-btn" type="button">
  <span id="accountLabel">Connect Wallet</span>
</button>
  </nav>

  <!-- ACCOUNT MENU -->
 <div id="accountMenu" class="account-menu">
  <button id="openProfile" type="button">Profile</button>
  <button id="openWithdraw" type="button">Withdraw</button>
  <button id="logoutBtn" type="button">Sign out</button>
</div>

  <!-- PROFILE PANEL -->
  <div id="profilePanel" class="profile-panel">
    <div class="profile-header">
      <div class="profile-avatar" id="profileAvatar">L</div>
      <div class="profile-meta">
        <div class="profile-email" id="profileEmail">—</div>
        <div class="profile-network">Stable Network</div>
      </div>
    </div>

    <div class="profile-section">
      <span class="label">Wallet address</span>
      <div class="address-row">
        <span id="walletAddress">—</span>
        <button id="copyAddress" type="button">Copy</button>
      </div>
    </div>

    <div class="profile-section">
      <span class="label">USDT0 balance</span>
      <div class="balance" id="profileBalance">0.00</div>
    </div>

    <button id="profileLogout" class="profile-logout" type="button">
      Sign out
    </button>
  </div>

  <!-- DEPOSIT MODAL -->
  <div id="depositOverlay" class="auth-overlay">
    <div class="auth-modal">
      <button class="auth-close" id="closeDeposit" type="button">&times;</button>

      <h2 class="auth-title">Add funds</h2>
      <p class="auth-subtitle">Send USDT0 to your Luminth wallet</p>

      <div class="deposit-box">
        <small>Your deposit address</small>
        <div id="depositAddress" class="deposit-address">Loading…</div>
      </div>

      <p class="auth-footer">
        Funds appear automatically after confirmation.
      </p>
    </div>
  </div>
  
  <!-- WITHDRAW MODAL -->
<div id="withdrawOverlay" class="auth-overlay">
  <div class="auth-modal">
    <button class="auth-close" id="closeWithdraw">&times;</button>

    <h2 class="auth-title">Withdraw USDT0</h2>
    <p class="auth-subtitle">
      Send USDT0 to any Stable address
    </p>

    <div class="auth-email-wrap">
      <input
        id="withdrawTo"
        type="text"
        placeholder="Recipient address"
      />
    </div>

    <div class="auth-email-wrap">
      <input
        id="withdrawAmount"
        type="number"
        placeholder="Amount (USDT0)"
      />
      <button
        id="withdrawMax"
        style="
          position:absolute;
          right:12px;
          top:50%;
          transform:translateY(-50%);
          background:none;
          border:none;
          color:#00C896;
          font-weight:600;
          cursor:pointer;
        "
      >
        Max
      </button>
    </div>

    <button
      class="auth-btn auth-email"
      id="confirmWithdraw"
    >
      Send USDT0
    </button>

    <p
      id="withdrawStatus"
      style="
        margin-top:12px;
        font-size:0.8rem;
        text-align:center;
        opacity:0.7;
      "
    ></p>
  </div>
</div>

  <!-- INTRO -->
  <div class="page-shell">
  <section class="hero-wrap">
  <div class="staking-intro">
    <h2>
      A smarter way to grow your Stable assets.
    </h2>
    <p>
      Now you can earn automatically on Stable assets with full access at all times.
No lockups. Just steady growth.
    </p>
  </div>
</section>

  <!-- STAKING CARD -->
  <section class="staking-section">
  <section class="staking-card">

    <div class="staking-toggle">
      <button id="stakeTab" class="tab active" type="button">Stake</button>
<button id="unstakeTab" class="tab" type="button">Unstake</button>
    </div>

    <h2 class="staking-heading">Get sUSDT and Earn</h2>

    <div class="staking-form">

      <div class="form-group">
        <label>You're Staking</label>
        <div class="input-token">
          <img src="stablex.png" class="token-icon" alt="USDT0" />
          <input
            type="number"
            id="stakeInput"
            placeholder="0.0 USDT0"
          />
          <span class="max-btn">Max</span>
        </div>
      </div>

      <div class="form-group">
        <label>
          To Receive <span class="slippage">0% Slippage</span>
        </label>
        <div class="input-token">
          <img src="stablex.png" class="token-icon" alt="sUSDT" />
          <input type="text" value="sUSDT" readonly />
        </div>
      </div>

      <button class="connect-btn" id="depositButton" type="button">
        Add funds
      </button>

      <button
        class="stake-btn"
        id="stakeButton"
        type="button"
        style="display:none"
      >
        <span id="stakeActionText">Stake</span>
      </button>

      <p class="conversion-rate">1 USDT0 ~ 1 sUSDT</p>
      <p id="status" style="text-align:center;margin-top:.75rem"></p>
    </div>
    
    <p class="conversion-rate">
  Your sUSDT balance: <span id="sUSDTBalance">0.00</span>
</p>

  </section>
</section>
</div>

  <!-- AUTH MODAL -->
<div id="authOverlay" class="auth-overlay">
  <div class="auth-modal">
    <button
      class="auth-close"
      id="closeAuth"
      type="button"
    >
      &times;
    </button>

    <img
      src="luminth2.png"
      class="auth-logo"
      alt="Luminth"
    />

    <h2 class="auth-title">Welcome to Luminth</h2>

    <!-- Google Login -->
    <button
      class="auth-google"
      type="button"
    >
      <svg
        width="18"
        height="18"
        viewBox="0 0 48 48"
        aria-hidden="true"
      >
        <path fill="#EA4335" d="M24 9.5c3.1 0 5.8 1.1 8 3.1l6-6C34.4 3.1 29.5 1 24 1 14.9 1 7.1 6.5 3.3 14.5l7.1 5.5C12.3 13.5 17.7 9.5 24 9.5z"/>
        <path fill="#34A853" d="M46.1 24.5c0-1.6-.1-2.8-.4-4.1H24v7.8h12.7c-.6 3.1-2.4 5.8-5.1 7.6l7.9 6.1c4.6-4.2 6.6-10.4 6.6-17.4z"/>
        <path fill="#FBBC05" d="M10.4 28c-.6-1.6-.9-3.3-.9-5s.3-3.4.9-5l-7.1-5.5C1.3 16.2 0 20 0 23s1.3 6.8 3.3 10.5l7.1-5.5z"/>
        <path fill="#4285F4" d="M24 46c5.5 0 10.1-1.8 13.5-4.9l-7.9-6.1c-2.2 1.5-5 2.4-8.6 2.4-6.3 0-11.7-4-13.6-9.5l-7.1 5.5C7.1 41.5 14.9 46 24 46z"/>
      </svg>
      Continue with Google
    </button>

    <div class="auth-divider">or</div>

    <!-- Email Login -->
    <div class="auth-email-wrap">
      <input
        id="authEmailInput"
        type="email"
        placeholder="Email address"
      />
    </div>

    <button
      id="authEmailBtn"
      class="auth-btn auth-email"
      type="button"
    >
      Continue
    </button>

    <p class="auth-footer">
      By continuing, you agree to our Terms.
    </p>
  </div>
</div>
  
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>

<script>
/* ================= CONFIG ================= */
const { Connection, clusterApiUrl } = solanaWeb3;

const connection = new Connection(
  clusterApiUrl("devnet"),
  "confirmed"
);

/* ================= STATE ================= */
let walletPublicKey = null;

/* ================= WALLET CONNECT ================= */
async function connectWallet() {
  if (!window.solana) {
    alert("Install Phantom / Backpack / Solflare");
    return;
  }

  const res = await window.solana.connect();
  walletPublicKey = res.publicKey;

  document.getElementById("accountLabel").textContent =
    walletPublicKey.toBase58().slice(0, 4) + "…" +
    walletPublicKey.toBase58().slice(-4);

  await syncSolBalance();
}

/* ================= BALANCE ================= */
async function syncSolBalance() {
  if (!walletPublicKey) return;

  const lamports = await connection.getBalance(walletPublicKey);
  const sol = lamports / 1e9;

  const el = document.getElementById("solBalance");
  if (el) el.textContent = sol.toFixed(4);
}

/* ================= DISCONNECT ================= */
async function disconnectWallet() {
  if (window.solana?.disconnect) {
    await window.solana.disconnect();
  }

  walletPublicKey = null;
  document.getElementById("accountLabel").textContent =
    "Connect Wallet";
}

/* ================= UI BINDING ================= */
document.getElementById("accountBtn").onclick = () => {
  walletPublicKey ? disconnectWallet() : connectWallet();
};
</script>

</body>
</html>
